---
description: デプロイ（developブランチのプッシュ、PR作成、mainへのマージ）を行う
---

# ワークフロー: デプロイの実行 (deploy)

このワークフローは、現在の開発ブランチ（`develop`）の内容をリモートリポジトリにプッシュし、GitHub上で本番環境用のブランチ（`main`）に向けたPull Requestを作成・マージする一連のデプロイ作業を自動化するためのものです。

ユーザーから「デプロイして」「`/deploy` を実行して」などと指示された場合は、以下の手順に正確に従ってください：

## 前提条件
- 現在のブランチが `develop` にいること。
- コミットすべき変更が残っていないこと（すべてコミット済みであること）。

## ステップ 1: リモートへのプッシュ
1. `run_command` ツールを使用して、`git push origin HEAD` （または `git push origin develop`）を実行し、ローカルの変更をリモートリポジトリに反映させます。
// turbo

## ステップ 2: Pull Request の作成
1. GitHub CLI を使用して、`develop` ブランチから `main` ブランチへマージするための Pull Request を作成します。
2. その際、これまでの会話履歴や直近のコミットログを参考にして、**タイトルと本文を必ず日本語で作成**してください。
3. 実行するコマンドの例:
   `gh pr create --base main --head develop --title "{わかりやすいタイトル}" --body "{変更内容の箇条書きや概要}"`
// turbo

## ステップ 3: Pull Request のマージ（デプロイの完了）
1. Pull Request の作成が成功したら、続けてそのPRをマージします。
2. 実行するコマンドの例 (直前に出力された PR 番号を使用):
   `gh pr merge {PR番号} --merge`
※ Vercelなどが連携されている場合、`main` ブランチへのマージをトリガーに自動的に本番環境へのデプロイが開始されます。
// turbo

## ステップ 4: 完了の報告
1. `notify_user` ツールを使用して、全てのステップ（プッシュ・PR作成・マージ）が無事完了したことをユーザーに報告してください。その際、必要に応じてマージされたPRのURLも添えてください。
